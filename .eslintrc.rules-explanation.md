# ESLint Custom Rules - WyjaÅ›nienie

## ğŸ¯ Cel

ESLint zostaÅ‚ skonfigurowany tak, aby automatycznie sprawdzaÅ‚ i wymuszaÅ‚ konwencje projektu ustalone podczas audytu. DziÄ™ki temu:
- âœ… Kod jest spÃ³jny w caÅ‚ym projekcie
- âœ… BÅ‚Ä™dy sÄ… wykrywane przed commitowaniem
- âœ… Nowi deweloperzy szybciej uczÄ… siÄ™ konwencji
- âœ… Redukcja code review czasu

## ğŸ“‹ Konwencje projektu wymuszane przez ESLint

### 1. âœ… UÅ¼ycie `cn()` zamiast template literals
**ReguÅ‚a:** `no-restricted-syntax` dla template literals w className
**Poziom:** `error`

**Dlaczego:** Zapewnia spÃ³jnoÅ›Ä‡ budowania klas CSS w caÅ‚ym projekcie.

**PrzykÅ‚ad bÅ‚Ä™dny:**
```javascript
className={`base-class ${condition ? 'active' : ''}`}
// âŒ ESLint Error: UÅ¼ywaj cn() zamiast template literals dla className
```

**PrzykÅ‚ad poprawny:**
```javascript
className={cn('base-class', condition && 'active')}
// âœ… OK
```

### 2. âœ… UÅ¼ycie `getIcon()` zamiast lokalnego `iconMap`
**ReguÅ‚a:** `no-restricted-syntax` dla definicji `iconMap`

**Dlaczego:** Eliminuje duplikacjÄ™ i zapewnia centralne zarzÄ…dzanie ikonami.

**PrzykÅ‚ad bÅ‚Ä™dny:**
```javascript
const iconMap = {
  FaCertificate,
  FaGraduationCap,
};
const Icon = iconMap[iconName];
```

**PrzykÅ‚ad poprawny:**
```javascript
import { getIcon } from '@/lib/icons';
const Icon = getIcon(iconName);
```

### 3. âœ… Index exports dla komponentÃ³w
**ReguÅ‚a:** `no-restricted-imports` dla bezpoÅ›rednich importÃ³w

**Dlaczego:** Zapewnia spÃ³jnoÅ›Ä‡ importÃ³w i Å‚atwiejsze refaktoryzacje.

**PrzykÅ‚ad bÅ‚Ä™dny:**
```javascript
import Button from '@/components/primitives/Button';
```

**PrzykÅ‚ad poprawny:**
```javascript
import { Button } from '@/components/primitives';
```

### 4. âœ… Brak `!important` w Tailwind
**ReguÅ‚a:** `no-restricted-syntax` dla `!important` w className

**Dlaczego:** Zapewnia czytelnoÅ›Ä‡ i Å‚atwiejsze utrzymanie. UÅ¼yj props zamiast tego.

**PrzykÅ‚ad bÅ‚Ä™dny:**
```javascript
className="!py-0 !px-0"
```

**PrzykÅ‚ad poprawny:**
```javascript
<Section py={0} px={0}>
```

### 5. âœ… WyjÄ…tki

- **prefers-reduced-motion:** `!important` jest dozwolone (uzasadnione uÅ¼ycie w CSS)
- **lib/icons.js:** Lokalny `iconMap` jest dozwolony (to jest definicja gÅ‚Ã³wna)
- **Pliki konfiguracyjne:** `.eslintrc.js`, `*.config.js` - wszystkie reguÅ‚y wyÅ‚Ä…czone
- **Foldery:** `hooks`, `forms`, `layout`, `overlay`, `context`, `utils` - bezpoÅ›rednie importy sÄ… OK (brak index exports)

## ğŸ”§ Jak to dziaÅ‚a?

ESLint uÅ¼ywa:
- **`no-restricted-syntax`** - sprawdza wzorce AST (Abstract Syntax Tree) uÅ¼ywajÄ…c selektorÃ³w
- **`no-restricted-imports`** - sprawdza Å›cieÅ¼ki importÃ³w i ostrzega przed bezpoÅ›rednimi importami

**Poziomy:**
- `error` - dla template literals, iconMap, !important
- `warn` - dla importÃ³w (niektÃ³re mogÄ… byÄ‡ potrzebne)

## ğŸš« WyÅ‚Ä…czenie reguÅ‚ (tylko w uzasadnionych przypadkach)

```javascript
// eslint-disable-next-line no-restricted-syntax
const specialCase = `template literal dla specjalnego przypadku`;
```

**Uwaga:** Unikaj wyÅ‚Ä…czania reguÅ‚ jeÅ›li to moÅ¼liwe. ZastanÃ³w siÄ™ czy nie moÅ¼na naprawiÄ‡ kodu.

## ğŸ“ Aktualizacja reguÅ‚

ReguÅ‚y sÄ… zdefiniowane w `.eslintrc.js` w sekcji:
- `no-restricted-syntax` (linie ~89-119)
- `no-restricted-imports` (linie ~120-138)

## ğŸ§ª Testowanie reguÅ‚

```bash
# SprawdÅº wszystkie pliki
npm run lint

# SprawdÅº konkretny plik
npx eslint components/ui/CardWithIcon.js

# Auto-fix (dla niektÃ³rych reguÅ‚)
npm run lint:fix
```

## ğŸ’¡ PrzykÅ‚ady bÅ‚Ä™dÃ³w

Po dodaniu nowego kodu, ESLint automatycznie pokaÅ¼e bÅ‚Ä™dy:

```bash
âœ– 1 problem (1 error, 0 warnings)

components/Test.js
  10:15  error  UÅ¼ywaj cn() zamiast template literals dla className  no-restricted-syntax
```

## ğŸ“š Dokumentacja

SzczegÃ³Å‚y kaÅ¼dej konwencji znajdziesz w `STYLE_GUIDE.md`.
