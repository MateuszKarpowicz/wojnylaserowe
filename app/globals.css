@tailwind base;
@tailwind components;
@tailwind utilities;

/* BASE – minimalne korekty */
@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 4.5rem; /* h-header */
  }

  body {
    @apply bg-bg-light text-text-dark dark:bg-bg-dark dark:text-text-light font-sans;
  }

  h1,
  h2,
  h3 {
    @apply font-display;
  }
}

/* COMPONENTS – tylko powtarzalne wzorce */
@layer components {
  /* Sekcje */
  .section-pad {
    @apply py-10 md:py-14;
  }

  .section-wrap {
    @apply container mx-auto px-4;
  }

  /* Przyciski */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 font-medium transition-colors duration-300;
  }

  .btn-primary {
    @apply bg-neon-blue text-white hover:opacity-90 focus-ring;
  }

  .btn-secondary {
    @apply bg-neon-purple text-white hover:opacity-90 focus-ring;
  }

  /* Przyciski specjalne (OfferSlider) */
  .btn-offer {
    @apply bg-neon-purple bg-opacity-90 text-white px-8 py-1 rounded-l-lg rounded-r-none shadow-glow-purple hover:bg-neon-purple/90 transition-colors duration-300 flex items-center;
  }

  .btn-section {
    @apply bg-neon-blue bg-opacity-90 text-white px-8 py-3 rounded-lg shadow-glow hover:bg-neon-blue/90 transition-colors duration-300 flex items-center justify-center font-normal;
  }

  /* Formularze */
  .input {
    @apply w-full rounded-lg border px-4 py-3 text-text-dark focus:outline-none focus:border-neon-blue transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
    border-color: #e5e5e5; /* border-border */
    background-color: #ffffff; /* bg-surface */
  }

  .input-error {
    @apply border;
    border-color: #e74c3c; /* error */
  }

  /* Grid dla strony głównej */
  .sections-grid-auto {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
  }
}

/* UTILITIES – dostępność i skróty */
@layer utilities {
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-neon-blue focus:ring-offset-2;
  }

  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
    clip-path: inset(50%);
  }

  /* Link patterns */
  .link-hover-neon {
    @apply text-text-light hover:text-neon-blue transition-colors duration-300;
  }

  .link-focus-neon {
    @apply link-hover-neon focus-ring;
  }

  /* Przyciski w galerii */
  .btn-close {
    @apply absolute top-4 right-4 bg-opacity-90 hover:bg-opacity-100 rounded-full p-2 focus-ring;
    background-color: #ffffff; /* bg-surface */
  }

  .btn-nav-arrow {
    @apply absolute top-1/2 -translate-y-1/2 bg-opacity-90 hover:bg-opacity-100 rounded-full p-2 focus-ring;
    background-color: #ffffff; /* bg-surface */
  }

  /* Loading spinner */
  .spinner {
    @apply w-10 h-10 border-4 border-t-neon-blue rounded-full animate-spin;
    border-color: #e5e5e5; /* border-border */
  }
}

/* REDUCED MOTION – jedna implementacja */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  html {
    scroll-behavior: auto !important;
  }
}
