@tailwind base;
@tailwind components;
@tailwind utilities;

/* BASE – minimalne korekty */
@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 4.5rem; /* h-header */
  }

  body {
    @apply bg-bg-light text-text-dark dark:bg-bg-dark dark:text-text-light font-sans;
  }

  h1,
  h2,
  h3 {
    @apply font-display;
  }
}

/* COMPONENTS – tylko powtarzalne wzorce */
@layer components {
  /* Sekcje */
  .section-pad {
    @apply py-10 md:py-14;
  }

  .section-wrap {
    @apply container mx-auto px-4;
  }

  /* Przyciski */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 font-medium transition-colors duration-300;
  }

  .btn-primary {
    @apply bg-neon-blue text-white hover:opacity-90 focus-ring;
  }

  .btn-secondary {
    @apply bg-neon-purple text-white hover:opacity-90 focus-ring;
  }

  /* Przyciski specjalne (OfferSlider) */
  .btn-offer {
    @apply bg-neon-purple bg-opacity-90 text-white px-8 py-1 rounded-l-lg rounded-r-none shadow-glow-purple hover:bg-neon-purple/90 transition-colors duration-300 flex items-center;
  }

  .btn-section {
    @apply bg-neon-blue bg-opacity-90 text-white px-8 py-3 rounded-lg shadow-glow hover:bg-neon-blue/90 transition-colors duration-300 flex items-center justify-center font-normal;
  }

  /* Przyciski CTA na stronie O nas */
  .btn-cta-purple {
    @apply bg-neon-purple bg-opacity-90 text-white py-0.5 rounded-lg shadow-glow-purple hover:bg-neon-purple/90 transition-colors duration-300 flex items-center justify-center focus-ring max-w-md mx-auto w-full;
  }

  .btn-cta-blue {
    @apply bg-neon-blue bg-opacity-90 text-white py-0.5 rounded-lg shadow-glow hover:bg-neon-blue/90 transition-colors duration-300 flex items-center justify-center focus-ring max-w-md mx-auto w-full;
  }

  /* Hero title offset */
  .hero-title-offset {
    @apply -mt-8;
  }

  /* Formularze */
  .input {
    @apply w-full rounded-lg border px-4 py-3 text-text-dark focus:outline-none focus:border-neon-blue transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
    border-color: #e5e5e5; /* border-border */
    background-color: #ffffff; /* bg-surface */
  }

  /* Input dla ciemnego tła (w modalu Oferty) */
  .input-dark {
    @apply w-full rounded-lg border px-4 py-3 text-text-light focus:outline-none focus:border-neon-purple transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
    border-color: #4a4a4a; /* border dla ciemnego tła */
    background-color: #1a1a1a; /* ciemne tło */
  }

  .input-error {
    @apply border;
    border-color: #e74c3c; /* error */
  }

  .input-dark:focus {
    box-shadow: 0 0 0 2px rgba(192, 132, 252, 0.2); /* glow-purple focus */
  }

  /* Grid dla strony głównej */
  .sections-grid-auto {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
  }

  /* About Page - Komponenty */
  .about-card {
    @apply rounded-lg shadow-sm p-6 border hover:shadow-md hover:border-neon-blue/30 transition-all duration-300;
    background-color: #ffffff; /* bg-surface */
    border-color: #f3f3f3; /* border-border-light */
  }

  .about-quote {
    @apply rounded-lg p-8 shadow-2xl border-l-4;
    background-color: rgba(0, 0, 0, 0.9); /* bg-modal */
    color: #fafafa; /* text-text-light */
    border-left-color: #0099cc; /* neon-blue */
  }

  .about-icon {
    @apply text-3xl mb-4;
    color: #0099cc; /* neon-blue */
  }

  /* Universal Card Components - z neon ramkami */
  /*
   * REGUŁY:
   * - Jasne tło (bg-surface) → ciemny kafelek + niebieski neon
   * - Ciemne tło (bg-bg-dark) → biały kafelek + fioletowy neon
   */

  /* Karta z niebieską ramką - dla JASNEGO tła (karta CIEMNA) */
  .card-border-blue {
    @apply rounded-xl border-2 shadow-md p-6 relative overflow-hidden transition-all duration-300;
    border-color: rgba(
      0,
      153,
      204,
      0.3
    ); /* neon-blue with low opacity for subtle glow */
    background-color: rgba(0, 0, 0, 0.9); /* bg-modal - CIEMNE tło karty */
    color: #fafafa; /* text-text-light */
    box-shadow: 0 0 20px rgba(0, 153, 204, 0.15), 0 4px 6px rgba(0, 0, 0, 0.3); /* subtle neon glow + shadow */
  }

  .card-border-blue:hover {
    @apply shadow-lg;
    transform: translateY(-4px);
    border-color: rgba(0, 153, 204, 0.6); /* stronger border on hover */
    box-shadow: 0 0 30px rgba(0, 153, 204, 0.3), 0 8px 12px rgba(0, 0, 0, 0.4); /* stronger glow on hover */
  }

  /* Karta z fioletową ramką - dla CIEMNEGO tła (karta BIAŁA) */
  .card-border-purple {
    @apply rounded-xl border-2 shadow-md p-6 relative overflow-hidden transition-all duration-300;
    border-color: rgba(
      192,
      132,
      252,
      0.3
    ); /* neon-purple with low opacity for subtle glow */
    background-color: #ffffff; /* bg-surface - BIAŁE tło karty */
    box-shadow: 0 0 20px rgba(192, 132, 252, 0.15), 0 4px 6px rgba(0, 0, 0, 0.1); /* subtle purple glow + shadow */
  }

  .card-border-purple:hover {
    @apply shadow-lg;
    transform: translateY(-4px);
    border-color: rgba(192, 132, 252, 0.6); /* stronger border on hover */
    box-shadow: 0 0 30px rgba(192, 132, 252, 0.3),
      0 8px 12px rgba(0, 0, 0, 0.15); /* stronger glow on hover */
  }

  /* Approach Cards - Dark Variant z fioletową obwódką (ciemne tło) */
  .approach-card-dark {
    @apply rounded-xl border-2 shadow-md p-6 relative overflow-hidden transition-all duration-300;
    border-color: rgba(
      192,
      132,
      252,
      0.3
    ); /* neon-purple with low opacity for subtle glow */
    background-color: rgba(0, 0, 0, 0.9); /* bg-modal - ciemne tło */
    color: #fafafa; /* text-text-light */
    box-shadow: 0 0 20px rgba(192, 132, 252, 0.15), 0 4px 6px rgba(0, 0, 0, 0.3); /* subtle purple glow + shadow */
  }

  .approach-card-dark:hover {
    @apply shadow-lg;
    transform: translateY(-4px);
    border-color: rgba(192, 132, 252, 0.6); /* stronger border on hover */
    box-shadow: 0 0 30px rgba(192, 132, 252, 0.3), 0 8px 12px rgba(0, 0, 0, 0.4); /* stronger glow on hover */
  }

  .qualification-icon {
    @apply text-3xl;
    color: #0099cc; /* neon-blue */
  }

  .approach-icon {
    @apply text-3xl;
    color: #c084fc; /* neon-purple */
  }
}

/* UTILITIES – dostępność i skróty */
@layer utilities {
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-neon-blue focus:ring-offset-2;
  }

  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
    clip-path: inset(50%);
  }

  /* Link patterns */
  .link-hover-neon {
    @apply text-text-light hover:text-neon-blue transition-colors duration-300;
  }

  .link-focus-neon {
    @apply link-hover-neon focus-ring;
  }

  /* Przyciski w galerii */
  .btn-close {
    @apply absolute top-4 right-4 bg-opacity-90 hover:bg-opacity-100 rounded-full p-2 focus-ring;
    background-color: #ffffff; /* bg-surface */
  }

  .btn-nav-arrow {
    @apply absolute top-1/2 -translate-y-1/2 bg-opacity-90 hover:bg-opacity-100 rounded-full p-2 focus-ring;
    background-color: #ffffff; /* bg-surface */
  }

  /* Loading spinner */
  .spinner {
    @apply w-10 h-10 border-4 border-t-neon-blue rounded-full animate-spin;
    border-color: #e5e5e5; /* border-border */
  }
}

/* REDUCED MOTION – jedna implementacja */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  html {
    scroll-behavior: auto !important;
  }
}
